# ููุฎุต ุชุทุจูู ูุธุงู ุชุญููู ุงูุนููุงุช ุงููุชูุฏู

## ๐ ูุธุฑุฉ ุนุงูุฉ

ุชู ุชุทููุฑ ูุธุงู ูุชูุงูู ูุชุญููู ุงูุนููุงุช ูู CodeLIMS ูุถูู **ุฏูุฉ ุงูุชูุงุฑูุฑ ุงููุงููุฉ** ู**ุฏุนู ุงูุนููุงุช ุงููุชุนุฏุฏุฉ** ุจุดูู ุงุญุชุฑุงููุ ูุน **ูุตู ุชุงู ุจูู ุงูุจุงู ุฅูุฏ ูุงููุฑููุช ุฅูุฏ**.

---

## โ ุงูุชุบููุฑุงุช ุงููููุฐุฉ

### 1. ุงูุจุงู ุฅูุฏ (Backend)

#### **ุฎุฏูุฉ ุชุญููู ุงูุนููุงุช ุงูุฌุฏูุฏุฉ**

๐ `packages/backend/src/services/currencyConversionService.js`

**ุงููููุฒุงุช:**

- ุญุณุงุจ ุณุนุฑ ุงูุตุฑู ุจูู ุฃู ุนููุชูู
- ุชุญููู ูุจุงูุบ ูุฑุฏูุฉ ุฃู ูุชุนุฏุฏุฉ
- ุงูุญุตูู ุนูู ุฌููุน ุฃุณุนุงุฑ ุงูุตุฑู ูุนููุฉ ูุนููุฉ
- ุชุญููู ุฅุฌูุงููุงุช ุงููุจูุนุงุช ุฅูู ุนููุฉ ูุณุชูุฏูุฉ
- ุชูุณูู ุงููุจุงูุบ ูุน ุฑููุฒ ุงูุนููุงุช
- ุงูุชุญูู ูู ุตุญุฉ ุฑููุฒ ุงูุนููุงุช

#### **ุชุญุฏูุซ ุฎุฏูุฉ ุงููุจูุนุงุช**

๐ `packages/backend/src/services/saleService.js`

**ุงูุชุญุณููุงุช:**

- ุฏูุฌ `CurrencyConversionService`
- ุชุญุฏูุซ `getSalesReport()` ูุฏุนู:
  - ุชุญููู ุฌููุน ุงููุจูุนุงุช ุฅูู ุนููุฉ ูุงุญุฏุฉ
  - ุนุฑุถ ุชูุงุฑูุฑ ูุชุนุฏุฏุฉ ุงูุนููุงุช ุฏูู ุชุญููู
  - ุญุณุงุจ ุงูุฅุฌูุงููุงุช ุจุฏูุฉ ููู ุนููุฉ
  - ุฅุฑุฌุงุน ูุนูููุงุช ุชูุตูููุฉ ุนู ูู ุนููุฉ

#### **ุฅุถุงูุฉ endpoints ุฌุฏูุฏุฉ**

๐ `packages/backend/src/controllers/saleController.js`
๐ `packages/backend/src/routes/saleRoutes.js`

**APIs ุงูุฌุฏูุฏุฉ:**

```
GET  /api/sales/currency/exchange-rates?baseCurrency=USD
POST /api/sales/currency/convert
```

---

### 2. ุงููุฑููุช ุฅูุฏ (Frontend)

#### **ุชุญุฏูุซ ุตูุญุฉ ุงูุชูุงุฑูุฑ**

๐ `packages/frontend/src/views/Reports.vue`

**ุงูุชุญุณููุงุช:**

- ุฅุนุงุฏุฉ ููููุฉ ุงุฎุชูุงุฑ ุงูุนููุฉ:
  - `null`: ุฌููุน ุงูุนููุงุช (ุนุฑุถ ูููุตู)
  - `USD` / `IQD`: ุชุญููู ุฅูู ุงูุนููุฉ ุงููุฎุชุงุฑุฉ
- ุฅุถุงูุฉ ูุณู **ุชูุตูู ุงููุจูุนุงุช ุญุณุจ ุงูุนููุฉ**:
  - ุจุทุงูุงุช ูููุตูุฉ ููู ุนููุฉ
  - ุนุฑุถ ุชูุตููู ููู ุนููุฉ (ุงููุจูุนุงุชุ ุงููุฏููุนุ ุงููุชุจููุ ุงูุฑุจุญ)
- ุฅุถุงูุฉ ุชูุจูู ุชูุถูุญู:
  - ูุดุฑุญ ุขููุฉ ุงูุชุญููู ุงููุณุชุฎุฏูุฉ
  - ููุถุญ ุงููุฑู ุจูู ุงูุนุฑุถ ุงูููุญุฏ ูุงููููุตู
- ุชุญุฏูุซ ุฏูุงู ุงูุชุตุฏูุฑ:
  - Excel: ูุดูู ุชูุงุตูู ูู ุนููุฉ
  - PDF: ุฌุฏุงูู ูููุตูุฉ ููู ุนููุฉ

#### **ุตูุญุฉ ุฅุฏุงุฑุฉ ุฃุณุนุงุฑ ุงูุตุฑู ุงูุฌุฏูุฏุฉ**

๐ `packages/frontend/src/views/settings/ExchangeRates.vue`

**ุงููููุฒุงุช:**

- ุฌุฏูู ูุงูู ูุฌููุน ุงูุนููุงุช ูุน ุฃุณุนุงุฑ ุงูุตุฑู
- ุชุนุฏูู ูุจุงุดุฑ ูุฃุณุนุงุฑ ุงูุตุฑู (ูุง ุนุฏุง ุงูุนููุฉ ุงูุฃุณุงุณูุฉ)
- ูุญูู ุนููุงุช ููุฑู:
  - ุฅุฏุฎุงู ุงููุจูุบ
  - ุงุฎุชูุงุฑ ุงูุนููุฉ ุงูุฃุตููุฉ ูุงููุณุชูุฏูุฉ
  - ุนุฑุถ ุงููุชูุฌุฉ ูุน ุณุนุฑ ุงูุตุฑู
- ุนุฑุถ ุชุงุฑูุฎ ุขุฎุฑ ุชุญุฏูุซ ููู ุนููุฉ
- ููุงุญุธุงุช ุชูุถูุญูุฉ ุดุงููุฉ

#### **ุชุญุฏูุซ ุตูุญุฉ ุงูุฅุนุฏุงุฏุงุช**

๐ `packages/frontend/src/views/Settings.vue`

**ุงูุชุญุณููุงุช:**

- ุฅุถุงูุฉ ุจุทุงูุฉ ูุฑุจุท ุณุฑูุน ุฅูู **ุฅุฏุงุฑุฉ ุฃุณุนุงุฑ ุงูุตุฑู**
- ุฅุถุงูุฉ ุจุทุงูุฉ ูุณุชูุจููุฉ ูุฅุนุฏุงุฏุงุช ุงูุชูุงุฑูุฑ
- ุชุญุณูู ุงูุชุตููู ูุงูุชูุธูู

#### **ุชุญุฏูุซ Router**

๐ `packages/frontend/src/router/index.js`

**ุงูุฅุถุงูุงุช:**

- route ุฌุฏูุฏ: `/settings/exchange-rates`

---

### 3. ุงููุซุงุฆู

#### **ุฏููู ุงููุธุงู ุงูุชููู**

๐ `CURRENCY_SYSTEM.md`

**ุงููุญุชููุงุช:**

- ุดุฑุญ ูุนูุงุฑู ูุงูู
- ุขููุฉ ุนูู ุฃุณุนุงุฑ ุงูุตุฑู
- ูุงุฌูุงุช API ูุน ุฃูุซูุฉ
- ุฃูุซูุฉ ุนูู ุงูุญุณุงุจุงุช
- ุฅููุงููุงุช ุงูุชูุณุน ุงููุณุชูุจูู

#### **ุฏููู ุงููุณุชุฎุฏู**

๐ `CURRENCY_USAGE_GUIDE.md`

**ุงููุญุชููุงุช:**

- ุดุฑุญ ุงูููุฒุงุช ุงูุฑุฆูุณูุฉ
- ุฏููู ุงุณุชุฎุฏุงู ุฎุทูุฉ ุจุฎุทูุฉ
- ุฃูุซูุฉ ุนูููุฉ
- ุงูุฃุณุฆูุฉ ุงูุดุงุฆุนุฉ
- ูุตุงุฆุญ ูุฃูุถู ุงูููุงุฑุณุงุช

---

## ๐ฏ ุงููุจุงุฏุฆ ุงููุทุจูุฉ

### 1. **ูุตู ุชุงู ุจูู ุงูุจุงู ุฅูุฏ ูุงููุฑููุช ุฅูุฏ**

โ **ุงูุจุงู ุฅูุฏ:**

- ุฌููุน ุงูุนูููุงุช ุงูุญุณุงุจูุฉ ูุงูุชุญูููุงุช
- ุงุณุชุฎุฑุงุฌ ูุชุฌููุฒ ุงูุชูุงุฑูุฑ
- ุชุทุจูู ููุทู ุงูุฃุนูุงู

โ **ุงููุฑููุช ุฅูุฏ:**

- ุนุฑุถ ุงูุจูุงูุงุช ุจุดูู ุชูุงุนูู ููุท
- ูุง ุชูุฌุฏ ูุนุงูุฌุฉ ุจูุงูุงุช ุฃู ุญุณุงุจุงุช

---

### 2. **ูุงุฌูุงุช API ูุงุถุญุฉ ูุขููุฉ**

โ RESTful APIs ูุน ูุนุงููุงุช ูุงุถุญุฉ
โ ุชุญูู JWT ุนูู ุฌููุน ุงูุทูุจุงุช
โ RBAC ููุชุญูู ูู ุงูุตูุงุญูุงุช
โ ุงุณุชุฌุงุจุฉ ููุญุฏุฉ ูุน `{ success, data }`

---

### 3. **ุงูุฃูุงู ูุงูุชุญูู**

โ ุตูุงุญูุงุช ูุญุฏุฏุฉ ููู ุนูููุฉ
โ ุชุณุฌูู ุฌููุน ุงูุชุนุฏููุงุช ูู `activityLogs`
โ ุญูุธ ุณุนุฑ ุงูุตุฑู ุงูุชุงุฑูุฎู ูุน ูู ุนูููุฉ

---

### 4. **ุงูุฃุฏุงุก ูุงูุฏูุฉ**

โ ุญุณุงุจุงุช ูุนูุงูุฉ ูู ุงูุจุงู ุฅูุฏ
โ ุชูุฑูุจ ููุญุฏ ูุฑูููู ุนุดุฑููู
โ ุญูุธ ุณุนุฑ ุงูุตุฑู ูุน ูู ุจูุน ูุฏูุนุฉ
โ ูุง ุชูุฌุฏ ุญุณุงุจุงุช ูู ุงููุฑููุช ุฅูุฏ

---

### 5. **ุชุฌุฑุจุฉ ุงููุณุชุฎุฏู ุงููุญุณูุฉ**

โ ูุงุฌูุงุช ูุงุถุญุฉ ูุณููุฉ ุงูุงุณุชุฎุฏุงู
โ ุชูุจููุงุช ุชูุถูุญูุฉ ุนูุฏ ุงูุญุงุฌุฉ
โ ุชุตุฏูุฑ ุงุญุชุฑุงูู (Excel/PDF)
โ ุนุฑุถ ุฑููุฒ ุงูุนููุงุช ุจุดูู ุจุงุฑุฒ

---

## ๐ ุฃูุซูุฉ ุนูู ุงูุญุณุงุจุงุช

### ูุซุงู 1: ุชูุฑูุฑ ุจุนููุฉ USD

**ุงููุจูุนุงุช:**

- 100 USD
- 150,000 IQD

**ุฃุณุนุงุฑ ุงูุตุฑู:**

- USD = 1.0
- IQD = 1500

**ุงูุชุญููู:**

```
100 USD * 1 = 100 USD
150,000 IQD / 1500 = 100 USD

ุงูุฅุฌูุงูู = 200 USD
```

---

### ูุซุงู 2: ุชูุฑูุฑ ุจุฌููุน ุงูุนููุงุช

**ุงููุจูุนุงุช:**

- 100 USD
- 150,000 IQD

**ุงููุชูุฌุฉ:**

```json
{
  "totalSales": 150100, // (ุจุฏูู ูุนูู - ูุฌููุน ุจุณูุท)
  "currency": "MIXED",
  "salesByCurrency": {
    "USD": { "totalSales": 100, "count": 1 },
    "IQD": { "totalSales": 150000, "count": 1 }
  }
}
```

---

## ๐ ููููุฉ ุงูุงุณุชุฎุฏุงู

### 1. ุชุญุฏูุซ ุณุนุฑ ุงูุตุฑู

```
ุงูุฅุนุฏุงุฏุงุช โ ุฅุฏุงุฑุฉ ุฃุณุนุงุฑ ุงูุตุฑู โ ุชุนุฏูู โ ุญูุธ
```

### 2. ุนุฑุถ ุชูุฑูุฑ ุจุนููุฉ ูุงุญุฏุฉ

```
ุงูุชูุงุฑูุฑ โ ุงุฎุชุฑ ุงูุนููุฉ (USD/IQD) โ ุนุฑุถ ุงูุชูุฑูุฑ
```

### 3. ุนุฑุถ ุชูุฑูุฑ ูุชุนุฏุฏ ุงูุนููุงุช

```
ุงูุชูุงุฑูุฑ โ ุงุฎุชุฑ "ุฌููุน ุงูุนููุงุช" โ ุนุฑุถ ุงูุชูุฑูุฑ
```

### 4. ุชุญููู ูุจูุบ

```
ุงูุฅุนุฏุงุฏุงุช โ ุฅุฏุงุฑุฉ ุฃุณุนุงุฑ ุงูุตุฑู โ ูุญูู ุงูุนููุงุช
```

---

## ๐ ุงูููุงุญุธุงุช ุงููุงูุฉ

### โ ุญูุธ ุณุนุฑ ุงูุตุฑู ุงูุชุงุฑูุฎู

- ูู ุจูุน ูุญูุธ ุณุนุฑ ุงูุตุฑู ุงูุญุงูู ูู `sales.exchangeRate`
- ูู ุฏูุนุฉ ุชุญูุธ ุณุนุฑ ุงูุตุฑู ุงูุญุงูู ูู `payments.exchangeRate`
- ูุฐุง ูุถูู ุฏูุฉ ุงูุณุฌูุงุช ุงูุชุงุฑูุฎูุฉ

### โ ุชุฃุซูุฑ ุชุบููุฑ ุณุนุฑ ุงูุตุฑู

- ูุคุซุฑ ุนูู ุงูุชูุงุฑูุฑ ุงูุฌุฏูุฏุฉ ููุท
- ูุง ูุคุซุฑ ุนูู ุงููุจูุนุงุช ุงูุณุงุจูุฉ
- ุงููุจูุนุงุช ุงูุณุงุจูุฉ ุชุญุชูุธ ุจุฃุณุนุงุฑูุง ุงูุชุงุฑูุฎูุฉ

### โ ุงูุนููุฉ ุงูุฃุณุงุณูุฉ

- USD ูู ุงูุนููุฉ ุงูุฃุณุงุณูุฉ (ุณุนุฑ ุตุฑู = 1.0)
- ูุง ูููู ุชุนุฏูู ุณุนุฑ ุตุฑู ุงูุนููุฉ ุงูุฃุณุงุณูุฉ
- ุฌููุน ุงูุชุญูููุงุช ุชูุญุณุจ ูุณุจุฉ ููุง

---

## ๐ฎ ุงูุชุญุณููุงุช ุงููุณุชูุจููุฉ

### ุงููุฎุทุท ููุง:

- [ ] ุฑุจุท API ุฎุงุฑุฌู ูุชุญุฏูุซ ุฃุณุนุงุฑ ุงูุตุฑู ุชููุงุฆูุงู
- [ ] ุฏุนู ุนููุงุช ุฅุถุงููุฉ (EUR, GBP, SAR, etc.)
- [ ] ุณุฌู ุชุงุฑูุฎู ูุงูู ูุฃุณุนุงุฑ ุงูุตุฑู
- [ ] ุฑุณูู ุจูุงููุฉ ูุชุบูุฑุงุช ุงูุฃุณุนุงุฑ
- [ ] ุชูุจููุงุช ุนูุฏ ุชุบูุฑ ุงูุณุนุฑ ุจูุณุจุฉ ูุนููุฉ
- [ ] ุฌุฏููุฉ ุชุญุฏูุซ ุฃุณุนุงุฑ ุงูุตุฑู

---

## โจ ุงูุฎูุงุตุฉ

ุชู ุชุทููุฑ ูุธุงู ูุชูุงูู ูุถูู:

โ **ุฏูุฉ ุนุงููุฉ** ูู ุงูุชูุงุฑูุฑ ุงููุงููุฉ  
โ **ูุฑููุฉ** ูู ุงูุชุนุงูู ูุน ุนููุงุช ูุชุนุฏุฏุฉ  
โ **ุฃูุงู** ูููุซูููุฉ ูู ุฌููุน ุงูุนูููุงุช  
โ **ุณูููุฉ ุงุณุชุฎุฏุงู** ูุน ูุงุฌูุงุช ุจุฏูููุฉ  
โ **ูุงุจููุฉ ุชูุณุน** ูุฏุนู ูุชุทูุจุงุช ูุณุชูุจููุฉ

---

## ๐ ุงููุฑุงุฌุน

- `CURRENCY_SYSTEM.md` - ุฏููู ุชููู ุดุงูู
- `CURRENCY_USAGE_GUIDE.md` - ุฏููู ุงููุณุชุฎุฏู
- `packages/backend/src/services/currencyConversionService.js` - ุงูููุฏ ุงููุตุฏุฑู
- `packages/frontend/src/views/Reports.vue` - ูุงุฌูุฉ ุงูุชูุงุฑูุฑ
- `packages/frontend/src/views/settings/ExchangeRates.vue` - ุฅุฏุงุฑุฉ ุฃุณุนุงุฑ ุงูุตุฑู

---

**ุชู ุงูุชุทููุฑ ุจูุงุณุทุฉ:** GitHub Copilot  
**ุงูุชุงุฑูุฎ:** ุฃูุชูุจุฑ 2025  
**ุงูุญุงูุฉ:** โ ุฌุงูุฒ ููุงุณุชุฎุฏุงู
